name: PR Auto Comment
on:
  pull_request_target:
    types: [opened]

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Add PR comment
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.BOT_TOKEN }}
          script: |
            console.log('PR Number:', context.issue.number);
            console.log('PR from:', context.payload.pull_request.head.repo.full_name);
            console.log('Base repo:', context.payload.repository.full_name);
            console.log('PR author:', context.payload.pull_request.user.login);
            
            const body = `## ðŸ™Œ Thanks for your contribution!

            Thank you for opening this pull request! Here's a quick checklist to help ensure a smooth review process:

            ### Before Review
            - [ ] Code follows our style guidelines
            - [ ] Tests are included and passing
            - [ ] Documentation has been updated (if needed)
            - [ ] PR is linked to a relevant issue
            - [ ] Branch is up to date with main

            ### What's Next?
            - A maintainer will review your PR within 2-3 business days
            - Please be responsive to any feedback or requested changes
            - Feel free to ask questions in the comments!

            Thanks again for contributing! ðŸš€`;

            try {
              const result = await github.rest.issues.createComment({
                issue_number: context.issue.number,
                owner: context.repo.owner,
                repo: context.repo.repo,
                body: body
              });
              console.log('Comment added successfully! Comment ID:', result.data.id);
            } catch (error) {
              console.error('Error adding comment:', error);
              console.error('Error details:', error.response?.data);
              throw error;
            }
